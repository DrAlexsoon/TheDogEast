DP
f(n) = min(f(n-k(i))+1,f(n-k(i-1))+1....)
k(i) = sqrt^2
**f() = math.maxvalue f(0) = 0**
```java
class Solution {
    public int numSquares(int n) {
        int[] dp = new int[n + 1];
        Arrays.fill(dp,Integer.MAX_VALUE);
        dp[0] = 0;
        int sqrt = (int) Math.sqrt(n);
        int[] hepler = new int[sqrt + 1];
        while (sqrt > 0) {
            int pow = (int) Math.pow(sqrt, 2);
            dp[pow] = 1;
            hepler[sqrt] = pow;
            sqrt--;
        }
        for (int i = 2; i <= n; i++) {
            for (int j = 1; j < hepler.length; j++) {
                if (i - hepler[j] < 0) {
                    break;
                }
                dp[i] = Math.min(dp[i], dp[i - hepler[j]] + 1);
            }
        }
        return dp[n];
    }
}
```

数学:拉格朗日四平方定理
*p=a_{0}^{2}+a_{1}^{2}+a_{2}^{2}+a_{3}^{2}*
三平方定理推算
![n\ne4^{k}(8m+7)\iffn=a_{0}^{2}+a_{1}^{2}+a_{2}^{2} ](./p__n_ne_4^{k}_8m+7__iff_n_=_a_{0}^{2}+a_{1}^{2}+a_{2}^{2}_.png)
只需检查数字n是否满足 *n = 4^{k}(8m+7)*
```java
class Solution {
    public int numSquares(int n) {
        while (n % 4 == 0) {
            n = n / 4;
        }
        if (n % 8 == 7) {
            return 4;
        }
        if (isSquare(n)) {
            return 1;
        }

        for (int i = 1; i * i <= n; ++i) {
            if (this.isSquare(n - i * i))
                return 2;
        }
        return 3;
    }

    boolean isSquare(int n) {
        return (int) Math.pow((int)Math.sqrt(n), 2) == n;
    }
}
```